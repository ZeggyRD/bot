2025-05-19 02:07:45,069 - AccountManager - INFO - Cargadas 10 cuentas desde el archivo
2025-05-19 02:07:45,070 - AccountManager - INFO - Cargados 250 proxies desde el archivo
2025-05-19 02:07:45,082 - AccountManager - INFO - AccountManager inicializado con 10 cuentas y 500 proxies
2025-05-19 02:07:45,084 - HumanBehavior - INFO - Perfiles de comportamiento cargados desde C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\modules\..\config\behavior_profiles.json
2025-05-19 02:07:45,085 - HumanBehavior - INFO - HumanBehaviorSimulator inicializado con 4 perfiles
2025-05-19 02:07:45,254 - LoginManager - DEBUG - Sesiones cargadas: 1 entradas
2025-05-19 02:07:45,254 - LoginManager - INFO - LoginManager inicializado
2025-05-19 02:07:45,254 - LoginManager - DEBUG - Ruta de sesiones: C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\modules\..\data\sessions.json
2025-05-19 02:07:45,254 - LoginManager - DEBUG - Ruta de plantillas: C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\modules\..\templates
2025-05-19 02:07:45,255 - LoginManager - WARNING - Plantillas faltantes: login_submit.png, home_icon.png, library_icon.png
2025-05-19 02:07:45,255 - LoginManager - WARNING - Algunas funciones de reconocimiento visual pueden fallar
2025-05-19 02:07:45,433 - AndroidDevice - INFO - Dispositivos detectados: ['2040306023079082']
2025-05-19 02:07:57,112 - OTWMusicSystem - INFO - Configuración guardada en: C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\config\config.json
2025-05-19 02:07:57,113 - OTWMusicSystem - INFO - Archivo tracks copiado a C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\data\tracks.txt
2025-05-19 02:08:27,245 - TrackPlayer - INFO - Iniciando modo de reproducción de tracks
2025-05-19 02:08:27,245 - TrackPlayer - INFO - Tracks cargados: 175
2025-05-19 02:08:27,245 - TrackPlayer - DEBUG - Ejemplos de tracks: ['https://open.spotify.com/track/56n5POxGEe6mw3MZrHwx9Q?si=b5a4661dae674cc8', 'https://open.spotify.com/track/0H6uEz7M1iJAV1tOoWFIuv?si=7a8bc2e25d37488c', 'https://open.spotify.com/track/5jVyl83rotcudoq5kRWtF1?si=34c40e8ca57f4949']
2025-05-19 02:08:27,246 - TrackPlayer - DEBUG - Obteniendo dispositivos conectados
2025-05-19 02:08:27,265 - TrackPlayer - DEBUG - Resultado de 'adb devices':
List of devices attached
2040306023079082	device


2025-05-19 02:08:27,266 - TrackPlayer - INFO - Dispositivos conectados: ['2040306023079082']
2025-05-19 02:08:27,266 - TrackPlayer - INFO - Iniciando ciclo de reproducción de tracks
2025-05-19 02:08:27,266 - TrackPlayer - INFO - Procesando dispositivo: 2040306023079082
2025-05-19 02:08:27,284 - uiautomator2.core - DEBUG - file u2.jar md5: 3564c56e4ef077f92c0fd32bcb42aea1
2025-05-19 02:08:28,228 - uiautomator2.core - DEBUG - file u2.jar already pushed
2025-05-19 02:08:28,228 - uiautomator2.core - DEBUG - http request GET /ping None
2025-05-19 02:08:28,240 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:28,242 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:08:28,322 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "GET /ping HTTP/1.1" 200 4
2025-05-19 02:08:28,329 - TrackPlayer - INFO - Track seleccionado para 2040306023079082: https://open.spotify.com/track/02FcX1nvlk29RY20y5FB4C?si=7038ae7764e34739
2025-05-19 02:08:28,329 - TrackPlayer - INFO - Abriendo track en 2040306023079082: https://open.spotify.com/track/02FcX1nvlk29RY20y5FB4C?si=7038ae7764e34739
2025-05-19 02:08:28,336 - uiautomator2.core - DEBUG - file u2.jar md5: 3564c56e4ef077f92c0fd32bcb42aea1
2025-05-19 02:08:29,415 - uiautomator2.core - DEBUG - file u2.jar already pushed
2025-05-19 02:08:29,416 - uiautomator2.core - DEBUG - http request GET /ping None
2025-05-19 02:08:29,416 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:29,418 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:08:29,495 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "GET /ping HTTP/1.1" 200 4
2025-05-19 02:08:29,496 - TrackPlayer - DEBUG - Presionando botón Home
2025-05-19 02:08:29,496 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'pressKey', 'params': ('home',)}
2025-05-19 02:08:29,507 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:29,509 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:08:30,122 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:08:31,125 - TrackPlayer - DEBUG - Ejecutando intent para abrir URL: https://open.spotify.com/track/02FcX1nvlk29RY20y5FB4C?si=7038ae7764e34739
2025-05-19 02:08:32,126 - TrackPlayer - DEBUG - Resultado del intent: Starting: Intent { act=android.intent.action.VIEW dat=https://open.spotify.com/... }

2025-05-19 02:08:32,126 - TrackPlayer - DEBUG - Esperando a que se abra la aplicación
2025-05-19 02:08:38,127 - TrackPlayer - DEBUG - Verificando si aparece diálogo 'Abrir con'
2025-05-19 02:08:38,127 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'waitForExists', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'}, 5000)}
2025-05-19 02:08:38,138 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:38,139 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:08:42,997 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:08:42,999 - TrackPlayer - INFO - Diálogo 'Abrir con' detectado (texto: Spotify)
2025-05-19 02:08:42,999 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'waitForExists', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'}, 20000)}
2025-05-19 02:08:43,011 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:43,012 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:08:43,666 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:08:43,672 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'objInfo', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'},)}
2025-05-19 02:08:43,673 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:43,674 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:08:44,840 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 1282
2025-05-19 02:08:44,842 - uiautomator2.core - DEBUG - jsonrpc error: {'jsonrpc': '2.0', 'id': 1, 'error': {'code': -32001, 'message': 'androidx.test.uiautomator.StaleObjectException', 'data': 'androidx.test.uiautomator.StaleObjectException\n\tat androidx.test.uiautomator.UiObject2.getAccessibilityNodeInfo(UiObject2.java:1018)\n\tat androidx.test.uiautomator.UiObject2.isChecked(UiObject2.java:432)\n\tat com.wetest.uia2.stub.ObjInfo.<init>(ObjInfo.java:69)\n\tat com.wetest.uia2.stub.ObjInfo.getObjInfo(ObjInfo.java:44)\n\tat com.wetest.uia2.stub.AutomatorServiceImpl.objInfo(AutomatorServiceImpl.java:844)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.invoke(JsonRpcBasicServer.java:467)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleObject(JsonRpcBasicServer.java:352)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleJsonNodeRequest(JsonRpcBasicServer.java:283)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleRequest(JsonRpcBasicServer.java:251)\n\tat com.wetest.uia2.stub.AutomatorHttpServer.serve(AutomatorHttpServer.java:101)\n\tat fi.iki.elonen.NanoHTTPD.serve(NanoHTTPD.java:2244)\n\tat fi.iki.elonen.NanoHTTPD$HTTPSession.execute(NanoHTTPD.java:945)\n\tat fi.iki.elonen.NanoHTTPD$ClientHandler.run(NanoHTTPD.java:192)\n\tat java.lang.Thread.run(Thread.java:923)\n'}}
2025-05-19 02:08:44,842 - TrackPlayer - ERROR - Error al manejar diálogo 'Abrir con': ('Unknown RPC error: -32001 androidx.test.uiautomator.StaleObjectException', ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'},), 'androidx.test.uiautomator.StaleObjectException\n\tat androidx.test.uiautomator.UiObject2.getAccessibilityNodeInfo(UiObject2.java:1018)\n\tat androidx.test.uiautomator.UiObject2.isChecked(UiObject2.java:432)\n\tat com.wetest.uia2.stub.ObjInfo.<init>(ObjInfo.java:69)\n\tat com.wetest.uia2.stub.ObjInfo.getObjInfo(ObjInfo.java:44)\n\tat com.wetest.uia2.stub.AutomatorServiceImpl.objInfo(AutomatorServiceImpl.java:844)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.invoke(JsonRpcBasicServer.java:467)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleObject(JsonRpcBasicServer.java:352)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleJsonNodeRequest(JsonRpcBasicServer.java:283)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleRequest(JsonRpcBasicServer.java:251)\n\tat com.wetest.uia2.stub.AutomatorHttpServer.serve(AutomatorHttpServer.java:101)\n\tat fi.iki.elonen.NanoHTTPD.serve(NanoHTTPD.java:2244)\n\tat fi.iki.elonen.NanoHTTPD$HTTPSession.execute(NanoHTTPD.java:945)\n\tat fi.iki.elonen.NanoHTTPD$ClientHandler.run(NanoHTTPD.java:192)\n\tat java.lang.Thread.run(Thread.java:923)\n')
2025-05-19 02:08:44,844 - TrackPlayer - DEBUG - Traceback (most recent call last):
  File "C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\track_player.py", line 193, in handle_open_with_dialog
    device(textContains="Spotify").click()
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\_selector.py", line 149, in click
    x, y = self.center(offset=offset)
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\_selector.py", line 176, in center
    lx, ly, rx, ry = self.bounds()
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\_selector.py", line 163, in bounds
    info = self.info
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\_selector.py", line 128, in info
    return self.jsonrpc.objInfo(self.selector)
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\__init__.py", line 185, in __call__
    return self.server.jsonrpc_call(self.method, params, http_timeout)
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\core.py", line 279, in jsonrpc_call
    return _jsonrpc_call(self._dev, method, params, timeout, self._debug)
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\core.py", line 162, in _jsonrpc_call
    raise RPCUnknownError(f"Unknown RPC error: {code} {message}", params, stacktrace)
uiautomator2.exceptions.RPCUnknownError: ('Unknown RPC error: -32001 androidx.test.uiautomator.StaleObjectException', ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'},), 'androidx.test.uiautomator.StaleObjectException\n\tat androidx.test.uiautomator.UiObject2.getAccessibilityNodeInfo(UiObject2.java:1018)\n\tat androidx.test.uiautomator.UiObject2.isChecked(UiObject2.java:432)\n\tat com.wetest.uia2.stub.ObjInfo.<init>(ObjInfo.java:69)\n\tat com.wetest.uia2.stub.ObjInfo.getObjInfo(ObjInfo.java:44)\n\tat com.wetest.uia2.stub.AutomatorServiceImpl.objInfo(AutomatorServiceImpl.java:844)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.invoke(JsonRpcBasicServer.java:467)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleObject(JsonRpcBasicServer.java:352)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleJsonNodeRequest(JsonRpcBasicServer.java:283)\n\tat com.googlecode.jsonrpc4j.JsonRpcBasicServer.handleRequest(JsonRpcBasicServer.java:251)\n\tat com.wetest.uia2.stub.AutomatorHttpServer.serve(AutomatorHttpServer.java:101)\n\tat fi.iki.elonen.NanoHTTPD.serve(NanoHTTPD.java:2244)\n\tat fi.iki.elonen.NanoHTTPD$HTTPSession.execute(NanoHTTPD.java:945)\n\tat fi.iki.elonen.NanoHTTPD$ClientHandler.run(NanoHTTPD.java:192)\n\tat java.lang.Thread.run(Thread.java:923)\n')

2025-05-19 02:08:44,844 - TrackPlayer - DEBUG - Esperando a que cargue completamente
2025-05-19 02:08:50,845 - TrackPlayer - DEBUG - Capturando pantalla en C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\..\screenshots\track_player_2040306023079082_20250519_020850.png
2025-05-19 02:08:50,845 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'takeScreenshot', 'params': (1, 80)}
2025-05-19 02:08:50,846 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:50,847 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:08:51,629 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 59831
2025-05-19 02:08:51,731 - TrackPlayer - DEBUG - Captura de pantalla guardada en C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\..\screenshots\track_player_2040306023079082_20250519_020850.png
2025-05-19 02:08:51,732 - TrackPlayer - DEBUG - Verificando si Spotify está en primer plano en 2040306023079082
2025-05-19 02:08:53,594 - TrackPlayer - ERROR - Error al verificar si Spotify está en primer plano: name 're' is not defined
2025-05-19 02:08:53,595 - TrackPlayer - DEBUG - Traceback (most recent call last):
  File "C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\track_player.py", line 253, in is_spotify_foreground
    match = re.search(pattern, output)
NameError: name 're' is not defined

2025-05-19 02:08:53,595 - TrackPlayer - WARNING - Spotify no está en primer plano después de abrir track, reintentando
2025-05-19 02:08:53,595 - TrackPlayer - INFO - Reintentando abrir track (intento 2/3)
2025-05-19 02:08:58,595 - TrackPlayer - INFO - Abriendo track en 2040306023079082: https://open.spotify.com/track/02FcX1nvlk29RY20y5FB4C?si=7038ae7764e34739
2025-05-19 02:08:58,603 - uiautomator2.core - DEBUG - file u2.jar md5: 3564c56e4ef077f92c0fd32bcb42aea1
2025-05-19 02:08:59,426 - uiautomator2.core - DEBUG - file u2.jar already pushed
2025-05-19 02:08:59,426 - uiautomator2.core - DEBUG - http request GET /ping None
2025-05-19 02:08:59,437 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:59,438 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:08:59,480 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "GET /ping HTTP/1.1" 200 4
2025-05-19 02:08:59,509 - TrackPlayer - DEBUG - Presionando botón Home
2025-05-19 02:08:59,509 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'pressKey', 'params': ('home',)}
2025-05-19 02:08:59,520 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:08:59,521 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:00,208 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:09:01,311 - TrackPlayer - DEBUG - Ejecutando intent para abrir URL: https://open.spotify.com/track/02FcX1nvlk29RY20y5FB4C?si=7038ae7764e34739
2025-05-19 02:09:02,482 - TrackPlayer - DEBUG - Resultado del intent: Starting: Intent { act=android.intent.action.VIEW dat=https://open.spotify.com/... }

2025-05-19 02:09:02,482 - TrackPlayer - WARNING - Error en intent: Warning: Activity not started, its current task has been brought to the front

2025-05-19 02:09:02,482 - TrackPlayer - DEBUG - Esperando a que se abra la aplicación
2025-05-19 02:09:08,483 - TrackPlayer - DEBUG - Verificando si aparece diálogo 'Abrir con'
2025-05-19 02:09:08,483 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'waitForExists', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'}, 5000)}
2025-05-19 02:09:08,494 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:08,496 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:09,364 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:09:09,406 - TrackPlayer - INFO - Diálogo 'Abrir con' detectado (texto: Spotify)
2025-05-19 02:09:09,407 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'waitForExists', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'}, 20000)}
2025-05-19 02:09:09,408 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:09,409 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:10,088 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:09:10,095 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'objInfo', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'},)}
2025-05-19 02:09:10,107 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:10,108 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:12,914 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 156
2025-05-19 02:09:12,964 - uiautomator2.core - DEBUG - jsonrpc error: {'jsonrpc': '2.0', 'id': 1, 'error': {'code': -32001, 'message': 'androidx.test.uiautomator.UiObjectNotFoundException', 'data': 'UiSelector[CONTAINS_TEXT=Spotify]'}}
2025-05-19 02:09:12,965 - TrackPlayer - ERROR - Error al manejar diálogo 'Abrir con': (-32001, 'androidx.test.uiautomator.UiObjectNotFoundException', ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'},))
2025-05-19 02:09:12,965 - TrackPlayer - DEBUG - Traceback (most recent call last):
  File "C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\track_player.py", line 193, in handle_open_with_dialog
    device(textContains="Spotify").click()
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\_selector.py", line 149, in click
    x, y = self.center(offset=offset)
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\_selector.py", line 176, in center
    lx, ly, rx, ry = self.bounds()
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\_selector.py", line 163, in bounds
    info = self.info
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\_selector.py", line 128, in info
    return self.jsonrpc.objInfo(self.selector)
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\__init__.py", line 185, in __call__
    return self.server.jsonrpc_call(self.method, params, http_timeout)
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\core.py", line 279, in jsonrpc_call
    return _jsonrpc_call(self._dev, method, params, timeout, self._debug)
  File "C:\Users\ceram\AppData\Local\Programs\Python\Python38\lib\site-packages\uiautomator2\core.py", line 159, in _jsonrpc_call
    raise UiObjectNotFoundError(code, message, params)
uiautomator2.exceptions.UiObjectNotFoundError: (-32001, 'androidx.test.uiautomator.UiObjectNotFoundException', ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'},))

2025-05-19 02:09:12,965 - TrackPlayer - DEBUG - Esperando a que cargue completamente
2025-05-19 02:09:18,966 - TrackPlayer - DEBUG - Capturando pantalla en C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\..\screenshots\track_player_2040306023079082_20250519_020918.png
2025-05-19 02:09:18,966 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'takeScreenshot', 'params': (1, 80)}
2025-05-19 02:09:18,967 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:18,968 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:19,652 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 64519
2025-05-19 02:09:19,727 - TrackPlayer - DEBUG - Captura de pantalla guardada en C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\..\screenshots\track_player_2040306023079082_20250519_020918.png
2025-05-19 02:09:19,727 - TrackPlayer - DEBUG - Verificando si Spotify está en primer plano en 2040306023079082
2025-05-19 02:09:20,319 - TrackPlayer - ERROR - Error al verificar si Spotify está en primer plano: name 're' is not defined
2025-05-19 02:09:20,320 - TrackPlayer - DEBUG - Traceback (most recent call last):
  File "C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\track_player.py", line 253, in is_spotify_foreground
    match = re.search(pattern, output)
NameError: name 're' is not defined

2025-05-19 02:09:20,320 - TrackPlayer - WARNING - Spotify no está en primer plano después de abrir track, reintentando
2025-05-19 02:09:20,320 - TrackPlayer - INFO - Reintentando abrir track (intento 3/3)
2025-05-19 02:09:25,320 - TrackPlayer - INFO - Abriendo track en 2040306023079082: https://open.spotify.com/track/02FcX1nvlk29RY20y5FB4C?si=7038ae7764e34739
2025-05-19 02:09:25,327 - uiautomator2.core - DEBUG - file u2.jar md5: 3564c56e4ef077f92c0fd32bcb42aea1
2025-05-19 02:09:25,694 - uiautomator2.core - DEBUG - file u2.jar already pushed
2025-05-19 02:09:25,695 - uiautomator2.core - DEBUG - http request GET /ping None
2025-05-19 02:09:25,696 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:25,697 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:25,760 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "GET /ping HTTP/1.1" 200 4
2025-05-19 02:09:25,761 - TrackPlayer - DEBUG - Presionando botón Home
2025-05-19 02:09:25,762 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'pressKey', 'params': ('home',)}
2025-05-19 02:09:25,773 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:25,775 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:26,357 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:09:27,365 - TrackPlayer - DEBUG - Ejecutando intent para abrir URL: https://open.spotify.com/track/02FcX1nvlk29RY20y5FB4C?si=7038ae7764e34739
2025-05-19 02:09:28,226 - TrackPlayer - DEBUG - Resultado del intent: Starting: Intent { act=android.intent.action.VIEW dat=https://open.spotify.com/... }

2025-05-19 02:09:28,226 - TrackPlayer - WARNING - Error en intent: Warning: Activity not started, its current task has been brought to the front

2025-05-19 02:09:28,226 - TrackPlayer - DEBUG - Esperando a que se abra la aplicación
2025-05-19 02:09:34,227 - TrackPlayer - DEBUG - Verificando si aparece diálogo 'Abrir con'
2025-05-19 02:09:34,227 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'waitForExists', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'}, 5000)}
2025-05-19 02:09:34,238 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:34,239 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:34,891 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:09:34,892 - TrackPlayer - INFO - Diálogo 'Abrir con' detectado (texto: Spotify)
2025-05-19 02:09:34,892 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'waitForExists', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'}, 20000)}
2025-05-19 02:09:34,903 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:34,905 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:47,447 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:09:47,448 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'objInfo', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Spotify'},)}
2025-05-19 02:09:47,449 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:47,450 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:48,983 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 548
2025-05-19 02:09:49,032 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'click', 'params': (240.0, 475.0)}
2025-05-19 02:09:49,032 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:49,034 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:49,357 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 39
2025-05-19 02:09:49,357 - TrackPlayer - DEBUG - Seleccionando Spotify como app predeterminada
2025-05-19 02:09:51,359 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'exist', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Siempre'},)}
2025-05-19 02:09:51,369 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:51,371 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:52,095 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 40
2025-05-19 02:09:52,096 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'exist', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Always'},)}
2025-05-19 02:09:52,097 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:52,098 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:55,759 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 40
2025-05-19 02:09:55,760 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'exist', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Just once'},)}
2025-05-19 02:09:55,761 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:55,762 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:56,631 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 40
2025-05-19 02:09:56,717 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'exist', 'params': ({'mask': 2, 'childOrSibling': [], 'childOrSiblingSelector': [], 'textContains': 'Solo esta vez'},)}
2025-05-19 02:09:56,728 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:09:56,729 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:09:57,333 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 40
2025-05-19 02:09:57,359 - TrackPlayer - DEBUG - Esperando a que cargue completamente
2025-05-19 02:10:03,359 - TrackPlayer - DEBUG - Capturando pantalla en C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\..\screenshots\track_player_2040306023079082_20250519_021003.png
2025-05-19 02:10:03,360 - uiautomator2.core - DEBUG - http request POST /jsonrpc/0 {'jsonrpc': '2.0', 'id': 1, 'method': 'takeScreenshot', 'params': (1, 80)}
2025-05-19 02:10:03,371 - uiautomator2.core - DEBUG - forward tcp:60779 -> tcp:9008
2025-05-19 02:10:03,373 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 127.0.0.1:60779
2025-05-19 02:10:04,018 - urllib3.connectionpool - DEBUG - http://127.0.0.1:60779 "POST /jsonrpc/0 HTTP/1.1" 200 64141
2025-05-19 02:10:04,054 - TrackPlayer - DEBUG - Captura de pantalla guardada en C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\..\screenshots\track_player_2040306023079082_20250519_021003.png
2025-05-19 02:10:04,054 - TrackPlayer - DEBUG - Verificando si Spotify está en primer plano en 2040306023079082
2025-05-19 02:10:05,306 - TrackPlayer - ERROR - Error al verificar si Spotify está en primer plano: name 're' is not defined
2025-05-19 02:10:05,306 - TrackPlayer - DEBUG - Traceback (most recent call last):
  File "C:\Users\ceram\Downloads\OTWMusicSystem_Final\otw_project\OTW_MUSIC_SYSTEM\scripts\track_player.py", line 253, in is_spotify_foreground
    match = re.search(pattern, output)
NameError: name 're' is not defined

2025-05-19 02:10:05,306 - TrackPlayer - WARNING - Spotify no está en primer plano después de abrir track, reintentando
2025-05-19 02:10:05,307 - TrackPlayer - ERROR - No se pudo abrir Spotify después de múltiples intentos
2025-05-19 02:10:05,307 - TrackPlayer - ERROR - No se pudo abrir el track en 2040306023079082
2025-05-19 02:10:05,307 - TrackPlayer - INFO - Esperando 1 minutos antes del siguiente ciclo
